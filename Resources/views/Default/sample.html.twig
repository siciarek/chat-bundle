{% extends 'SiciarekChatBundle::base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .nav.nav-tabs li.active {
            font-weight: bold;
        }

        #users li {
            margin-bottom: 4px;
        }

        #messages form {
            margin-bottom: 20px;
        }

        #messages dl dt:after {
            content: ':';
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js') }}"></script>
    <script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js') }}"></script>

    <script>
        var refreshAfter = parseInt({{refreshAfter}});
        var urlsTmpl = {
            users: '{{ url('chat.user.list') }}',
            channels: '{{ url('chat.channel.list') }}',
            createChannel: '{{ url('chat.channel.create', {assignees: "[1]"}) }}',
            assignees: '{{ url('chat.channel.assignee.list', { channel: 1 }) }}',
            messages: '{{ url('chat.message.list', { channel: 1 }) }}',
            sendMessage: '{{ url('chat.message.send', { channel: 1 }) }}'
        };

    </script>

    <script src="{{ asset('/bundles/siciarekchat/js/chat.js') }}"></script>

{% endblock %}

{% block body %}


    <div class="row">

        <div id="users" class="col-md-2"></div>

        <div class="col-md-10 chat-body hidden">

            <div class="row">
                <div id="channels" class="col-md-12"></div>
            </div>

            <div class="row">
                <br/>
                <div id="messages" class="col-md-10">
                    <form>
                        <div  class="row">
                            <div class="col-md-12">
                                <input type="text" class="form-control temp-input" />
                                <input class="form-control" type="hidden" required name="message"/>
                                <button type="submit" class="btn btn-default pull-right hidden" disabled>
                                    <i class="fa-envelope fa fa-lg"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>

                <div id="assignees" class="col-md-2"></div>

            </div>
        </div>

    </div>

{% endblock %}
